# Custom Nginx configuration for a Single Page Application (SPA)

server {
  # Listen on port 80, the standard HTTP port.
  listen 80;

  # Set the root directory where Nginx will find the files to serve.
  # This MUST match the directory where we copied our build files in the Dockerfile.
  root /usr/share/nginx/html;

  # This is the main entry point for our application.
  index index.html index.htm;

  # This is the key part for SPAs.
  # It tries to find a file that matches the requested URI.
  # If it can't find a file ($uri) or a directory ($uri/),
  # it falls back to serving /index.html.
  # This allows React Router to handle the URL.
  location / {
    try_files $uri $uri/ /index.html;
  }
}
